var A=Object.defineProperty;var L=(e,l,a)=>l in e?A(e,l,{enumerable:!0,configurable:!0,writable:!0,value:a}):e[l]=a;var b=(e,l,a)=>(L(e,typeof l!="symbol"?l+"":l,a),a);import{c as R,d as T,m as j,a as F,u as K,b as V,e as M,f as I,g as s,h as N,I as E,i as Q,j as z,k as G,t as C,l as H,n as J,p as O,V as U,o as $,F as x,q as Y,r as q,s as p,v as W,w as B,x as v,y as X,z as Z,A as _,B as w,C as ee,D as ae,E as te,G as le,H as se,J as ne,K as ie,L as re,M as S,N as oe,O as P,P as D}from"./index.39c508b5.js";const ue=R("v-breadcrumbs-divider","li"),ce=T({name:"VBreadcrumbsItem",props:{active:Boolean,activeClass:String,activeColor:String,color:String,disabled:Boolean,title:String,...j(),...F({tag:"li"})},setup(e,l){let{slots:a,attrs:f}=l;const o=K(e,f),m=V(()=>{var i;return e.active||((i=o.isActive)==null?void 0:i.value)}),h=V(()=>m.value?e.activeColor:e.color),{textColorClasses:c,textColorStyles:g}=M(h);return I(()=>{var i;const d=o.isLink.value?"a":e.tag;return s(d,{class:["v-breadcrumbs-item",{"v-breadcrumbs-item--active":m.value,"v-breadcrumbs-item--disabled":e.disabled,"v-breadcrumbs-item--link":o.isLink.value,[`${e.activeClass}`]:m.value&&e.activeClass},c.value],style:[g.value],href:o.href.value,"aria-current":m.value?"page":void 0,onClick:o.navigate},{default:()=>{var n;return[(n=(i=a.default)==null?void 0:i.call(a))!=null?n:e.title]}})}),{}}}),de=N()({name:"VBreadcrumbs",props:{activeClass:String,activeColor:String,bgColor:String,color:String,disabled:Boolean,divider:{type:String,default:"/"},icon:E,items:{type:Array,default:()=>[]},...Q(),...z(),...F({tag:"ul"})},setup(e,l){let{slots:a}=l;const{backgroundColorClasses:f,backgroundColorStyles:o}=G(C(e,"bgColor")),{densityClasses:m}=H(e),{roundedClasses:h}=J(e);return O({VBreadcrumbsItem:{activeClass:C(e,"activeClass"),activeColor:C(e,"activeColor"),color:C(e,"color"),disabled:C(e,"disabled")}}),I(()=>{var c;const g=!!(a.prepend||e.icon);return s(e.tag,{class:["v-breadcrumbs",f.value,m.value,h.value],style:o.value},{default:()=>[g&&s(U,{key:"prepend",defaults:{VIcon:{icon:e.icon,start:!0}}},{default:()=>[s("div",{class:"v-breadcrumbs__prepend"},[a.prepend?a.prepend():e.icon&&s($,null,null)])]}),e.items.map((i,d,n)=>{var r;return s(x,null,[s(ce,Y({key:d,disabled:d>=n.length-1},typeof i=="string"?{title:i}:i),{default:a.title?()=>{var t;return(t=a.title)==null?void 0:t.call(a,{item:i,index:d})}:void 0}),d<n.length-1&&s(ue,null,{default:()=>{var t;return[(t=(r=a.divider)==null?void 0:r.call(a,{item:i,index:d}))!=null?t:e.divider]}})])}),(c=a.default)==null?void 0:c.call(a)]})}),{}}}),fe=q({__name:"Records",setup(e){const l=p(["records"]);class a{constructor(r,t,k,u){b(this,"ty");b(this,"icon");b(this,"path");b(this,"ctime");b(this,"mtime");this.ty=r,r==="folder"?this.icon="mdi-folder":this.icon="mdi-file",this.path=t,this.ctime=k,this.mtime=u}get is_folder(){return this.ty==="folder"}get name(){return this.path[this.path.length-1]}}const f=p([]);async function o(){var n=l.value.slice(1).join("/");await Z.get("/api/lsFiles/"+n).then(r=>{let t=Array.from(r.data.subitems.map(u=>new a(u.ty,u.path,u.ctime,u.mtime)));t.sort((u,y)=>u.is_folder&&!y.is_folder?-1:y.is_folder&&!u.is_folder?1:u.name.localeCompare(y.name)),f.value=t;var k=r.data.path;console.assert(k.join("/")===n)})}async function m(n){n.is_folder?(l.value.push(n.name),await o()):window.open("/api/getFile/"+l.value.slice(1).concat(n.name).join("/"))}async function h(){l.value.pop(),await o()}const c=p(""),g=p("");function i(){console.log("You search "+c.value),g.value=c.value}function d(n,r){return n.filter(t=>r?t.name.includes(r):!0)}return W(o),(n,r)=>(_(),B(X,{fluid:""},{default:v(()=>[s(se,{align:"center"},{default:v(()=>[s(w,null,{default:v(()=>[s(de,{items:l.value},{prepend:v(()=>[s(ee,{variant:"text",icon:"mdi-arrow-left",disabled:l.value.length==1,onClick:h},null,8,["disabled"])]),_:1},8,["items"])]),_:1}),s(ae),s(w,null,{default:v(()=>[s(te,{clearable:"","hide-details":"","single-line":"","append-inner-icon":"mdi-magnify",modelValue:c.value,"onUpdate:modelValue":r[0]||(r[0]=t=>c.value=t),onKeydown:le(S(i,["prevent"]),["enter"]),"onClick:clear":i},null,8,["modelValue","onKeydown"])]),_:1})]),_:1}),s(re,null,{default:v(()=>[(_(!0),ne(x,null,ie(d(f.value,g.value),t=>(_(),B(oe,{density:"compact",key:t.name,title:t.name,onDblclick:S(k=>m(t),["prevent"])},{prepend:v(()=>[s($,null,{default:v(()=>[P(D(t.icon),1)]),_:2},1024)]),append:v(()=>[P(D(t.mtime),1)]),_:2},1032,["title","onDblclick"]))),128))]),_:1})]),_:1}))}});export{fe as default};
