var N=Object.defineProperty;var O=(e,o,l)=>o in e?N(e,o,{enumerable:!0,configurable:!0,writable:!0,value:l}):e[o]=l;var c=(e,o,l)=>(O(e,typeof o!="symbol"?o+"":o,l),l);import{d as P,Z as Q,a as M,R as U,_ as Y,U as H,b as h,p as Z,t as T,f as w,g as a,$ as q,a0 as R,k as $,a1 as L,a2 as J,o as g,O as W,I as A,a3 as F,a4 as X,a5 as ee,Y as ae,Q as te,a6 as le,j as ne,a7 as se,T as oe,n as ie,a8 as re,r as de,s as C,v as ce,w as B,x as s,y as ue,z as ve,A as I,B as _,a9 as V,M as f,aa as pe,C as D,D as fe,E as xe,G as me,H as ge,F as he,K as ye,ab as be,ac as E,N as k}from"./index.93fee454.js";import{V as _e}from"./VToolbar.fcd4242e.js";const S=Symbol.for("vuetify:v-expansion-panel"),Ve=["default","accordion","inset","popout"],Se=P({name:"VExpansionPanels",props:{color:String,variant:{type:String,default:"default",validator:e=>Ve.includes(e)},readonly:Boolean,...Q(),...M(),...U()},emits:{"update:modelValue":e=>!0},setup(e,o){let{slots:l}=o;Y(e,S);const{themeClasses:t}=H(e),v=h(()=>e.variant&&`v-expansion-panels--variant-${e.variant}`);return Z({VExpansionPanel:{color:T(e,"color")},VExpansionPanelTitle:{readonly:T(e,"readonly")}}),w(()=>a(e.tag,{class:["v-expansion-panels",t.value,v.value]},l)),{}}}),G=W({color:String,expandIcon:{type:A,default:"$expand"},collapseIcon:{type:A,default:"$collapse"},hideActions:Boolean,ripple:{type:[Boolean,Object],default:!1},readonly:Boolean},"v-expansion-panel-title"),j=P({name:"VExpansionPanelTitle",directives:{Ripple:q},props:{...G()},setup(e,o){let{slots:l}=o;const t=R(S);if(!t)throw new Error("[Vuetify] v-expansion-panel-title needs to be placed inside v-expansion-panel");const{backgroundColorClasses:v,backgroundColorStyles:u}=$(e,"color"),p=h(()=>({collapseIcon:e.collapseIcon,disabled:t.disabled.value,expanded:t.isSelected.value,expandIcon:e.expandIcon,readonly:e.readonly}));return w(()=>{var x;return L(a("button",{class:["v-expansion-panel-title",{"v-expansion-panel-title--active":t.isSelected.value},v.value],style:u.value,type:"button",tabindex:t.disabled.value?-1:void 0,disabled:t.disabled.value,"aria-expanded":t.isSelected.value,onClick:e.readonly?void 0:t.toggle},[a("span",{class:"v-expansion-panel-title__overlay"},null),(x=l.default)==null?void 0:x.call(l,p.value),!e.hideActions&&a("span",{class:"v-expansion-panel-title__icon"},[l.actions?l.actions(p.value):a(g,{icon:t.isSelected.value?e.collapseIcon:e.expandIcon},null)])]),[[J("ripple"),e.ripple]])}),{}}}),K=P({name:"VExpansionPanelText",props:{...F()},setup(e,o){let{slots:l}=o;const t=R(S);if(!t)throw new Error("[Vuetify] v-expansion-panel-text needs to be placed inside v-expansion-panel");const{hasContent:v,onAfterLeave:u}=X(e,t.isSelected);return w(()=>{var p;return a(ae,{onAfterLeave:u},{default:()=>[L(a("div",{class:"v-expansion-panel-text"},[l.default&&v.value&&a("div",{class:"v-expansion-panel-text__wrapper"},[(p=l.default)==null?void 0:p.call(l)])]),[[ee,t.isSelected.value]])]})}),{}}}),ke=P({name:"VExpansionPanel",props:{title:String,text:String,bgColor:String,...te(),...le(),...F(),...ne(),...M(),...G()},emits:{"group:selected":e=>!0},setup(e,o){let{slots:l}=o;const t=se(e,S),{backgroundColorClasses:v,backgroundColorStyles:u}=$(e,"bgColor"),{elevationClasses:p}=oe(e),{roundedClasses:x}=ie(e),m=h(()=>(t==null?void 0:t.disabled.value)||e.disabled),n=h(()=>t.group.items.value.reduce((r,d,b)=>(t.group.selected.value.includes(d.id)&&r.push(b),r),[])),i=h(()=>{const r=t.group.items.value.findIndex(d=>d.id===t.id);return!t.isSelected.value&&n.value.some(d=>d-r===1)}),y=h(()=>{const r=t.group.items.value.findIndex(d=>d.id===t.id);return!t.isSelected.value&&n.value.some(d=>d-r===-1)});return re(S,t),w(()=>{var r;const d=!!(l.text||e.text),b=!!(l.title||e.title);return a(e.tag,{class:["v-expansion-panel",{"v-expansion-panel--active":t.isSelected.value,"v-expansion-panel--before-active":i.value,"v-expansion-panel--after-active":y.value,"v-expansion-panel--disabled":m.value},x.value,v.value],style:u.value,"aria-expanded":t.isSelected.value},{default:()=>[a("div",{class:["v-expansion-panel__shadow",...p.value]},null),b&&a(j,{key:"title",collapseIcon:e.collapseIcon,color:e.color,expandIcon:e.expandIcon,hideActions:e.hideActions,ripple:e.ripple},{default:()=>[l.title?l.title():e.title]}),d&&a(K,{key:"text",eager:e.eager},{default:()=>[l.text?l.text():e.text]}),(r=l.default)==null?void 0:r.call(l)]})}),{}}}),Ie=de({__name:"Inbox",setup(e){class o{constructor(n,i,y,r){c(this,"tag");c(this,"category");c(this,"ctime");c(this,"dir");this.tag=n,this.category=i,this.ctime=y,this.dir=r}}class l{constructor(n,i,y,r,d,b,z){c(this,"id");c(this,"title");c(this,"text");c(this,"time");c(this,"sender");c(this,"level");c(this,"read");this.id=n,this.title=i,this.text=y,this.time=r,this.sender=d,this.level=b,this.read=z}get time_str(){return this.time.toLocaleString()}get color(){return this.color=="error"?"red":this.color=="warning"?"orange":this.color=="info"?"blue":this.color=="debug"?"green":"grey"}get icon(){return this.level=="error"?"mdi-alert-circle":this.level=="warning"?"mdi-alert":this.level=="info"?"mdi-information":this.level=="debug"?"mdi-bug":"mdi-email"}}const t=C([]);async function v(){await ve.get("/api/getMails").then(m=>{t.value=Array.from(m.data.mails.map(n=>new l(n.id,n.title,n.text,new Date(n.time),new o(n.sender.tag,n.sender.category,new Date(n.sender.ctime),n.sender.dir),n.level,n.read)))})}const u=C(""),p=C("");function x(){console.log("You search "+u.value),p.value=u.value}return ce(v),(m,n)=>(I(),B(ue,{fluid:""},{default:s(()=>[a(_e,{align:"center"},{default:s(()=>[a(_,{variant:"text",icon:"mdi-format-list-checkbox"},{default:s(()=>[a(g),a(V,{activator:"parent",location:"bottom"},{default:s(()=>[f("Multiple Selection")]),_:1})]),_:1}),a(_,{variant:"text",icon:"mdi-filter"},{default:s(()=>[a(g),a(V,{activator:"parent",location:"bottom"},{default:s(()=>[f("Filter")]),_:1})]),_:1}),a(_,{variant:"text",icon:"mdi-collapse-all"},{default:s(()=>[a(g),a(V,{activator:"parent",location:"bottom"},{default:s(()=>[f("Collapse All")]),_:1})]),_:1}),a(pe,{vertical:""}),a(_,{variant:"text",icon:"mdi-delete"},{default:s(()=>[a(g),a(V,{activator:"parent",location:"bottom"},{default:s(()=>[f("Delete Old Read Mails")]),_:1})]),_:1}),a(_,{variant:"text",icon:"mdi-email-check-outline"},{default:s(()=>[a(g),a(V,{activator:"parent",location:"bottom"},{default:s(()=>[f("Mark All Mails As Read")]),_:1})]),_:1}),a(D),a(fe,{clearable:"","hide-details":"","single-line":"","append-inner-icon":"mdi-magnify",modelValue:u.value,"onUpdate:modelValue":n[0]||(n[0]=i=>u.value=i),onKeydown:xe(ye(x,["prevent"]),["enter"]),"onClick:clear":x},null,8,["modelValue","onKeydown"])]),_:1}),a(Se,{class:"mb-6",multiple:""},{default:s(()=>[(I(!0),me(he,null,ge(t.value,i=>(I(),B(ke,{key:i.id},{default:s(()=>[a(j,null,{default:s(()=>[a(be,{"no-gutters":""},{default:s(()=>[a(E,{class:"d-flex justify-start"},{default:s(()=>[f(k(i.sender.tag),1)]),_:2},1024),a(D),a(E,{cols:"2"},{default:s(()=>[f(k(i.time_str),1)]),_:2},1024),a(E,{cols:"12"},{default:s(()=>[f(k(i.title),1)]),_:2},1024)]),_:2},1024)]),_:2},1024),a(K,null,{default:s(()=>[f(k(i.text),1)]),_:2},1024)]),_:2},1024))),128))]),_:1})]),_:1}))}});export{Ie as default};
